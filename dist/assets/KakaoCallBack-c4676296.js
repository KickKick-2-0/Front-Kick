import{u as m,m as d,e as u,l as e,a as h,S as k}from"./vendor-f20b940a.js";import{w as l,aw as _,ax as f}from"./common-01e7a8b8.js";const x=g=>{const s=m(),c=d();return u.useEffect(()=>{const n=new URL(document.location.toString()).searchParams.get("code"),r="authorization_code",i=`${_}`,p=`${f}`;e.post(`https://kauth.kakao.com/oauth/token?grant_type=${r}&client_id=${i}&redirect_url=${p}&code=${n}`,{},{headers:{"Content-type":"application/x-www-form-urlencoded;charset-utf-8"}}).then(t=>{const{access_token:o}=t.data;e.post("https://kapi.kakao.com/v2/user/me",{},{headers:{Authorization:`Bearer ${o}`,"Content-type":"application/x-www-formencoded;charset=utf-8"}}).then(a=>{console.log(a),s(l({token:o,email:a.data.kakao_account.email,name:a.data.kakao_account.profile.nickname,profileImg:a.data.properties.thumbnail_image}))})}).catch(t=>{console.error(t)}),c("/home")},[]),h(k,{})};export{x as default};
